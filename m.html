<!DOCTYPE html>
<html>

<head>
    <meta charset='utf-8'>
    <meta http-equiv='X-UA-Compatible' content='IE=edge'>
    <title>Materialize</title>
    <meta name='viewport' content='width=device-width, initial-scale=1'>
    <!-- Compiled and minified CSS -->
    <!-- <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/materialize/1.0.0/css/materialize.min.css"> -->
    <link rel="stylesheet" href="css/materialize.min.css">

    <!-- <link href="https://fonts.googleapis.com/icon?family=Material+Icons" rel="stylesheet"> -->


    <style type="text/css">
        /* fallback */
        @font-face {
            font-family: 'Material Icons';
            font-style: normal;
            font-weight: 400;
            src: url(fonts/flUhRq6tzZclQEJ-Vdg-IuiaDsNc.woff2) format('woff2');
        }

        .material-icons {
            font-family: 'Material Icons';
            font-weight: normal;
            font-style: normal;
            font-size: 24px;
            line-height: 1;
            letter-spacing: normal;
            text-transform: none;
            display: inline-block;
            white-space: nowrap;
            word-wrap: normal;
            direction: ltr;
            -webkit-font-feature-settings: 'liga';
            -webkit-font-smoothing: antialiased;
        }

        @font-face {
            font-family: "Friedolin";
            src: url("fonts/Friedolin.ttf");
        }

        @font-face {
            font-family: "MediciText";
            src: url("fonts/MediciText.otf");
        }

        @font-face {
            font-family: "Old Europe";
            src: url("fonts/Old Europe.ttf");
        }

        .dark {
            background-color: black;
            color: blanchedalmond;
        }

        h5 {
            font-family: Friedolin;
            font-size: 300%;
        }

        h2 {
            font-family: MediciText;
        }
    </style>

</head>

<body>
    <nav class="nav-extended">
        <div class="nav-wrapper">
            <a href="#" class="brand-logo">Logo</a>
            <a href="#" data-target="mobile-demo" class="sidenav-trigger"><i class="material-icons">menu</i></a>
            <ul id="nav-mobile" class="right hide-on-med-and-down">
                <li><a href="dados.html">Dados</a></li>
                <li><a href="diario.html">Diario</a></li>
                <li><a href="index.html">Principal</a></li>
            </ul>
        </div>
        <div class="nav-content">
            <ul class="tabs tabs-transparent">
                <li class="tab dark"><a href="#test1">Test 1</a></li>
                <li class="tab dark"><a class="active" href="#test2">Test 2</a></li>
                <li class="tab dark"><a href="#inventario">Inventario</a></li>
                <li class="tab dark"><a href="#test4">Test 4</a></li>
            </ul>
        </div>
    </nav>

    <ul class="sidenav" id="mobile-demo">
        <li><a href="dados.html">Dados</a></li>
        <li><a href="diario.html">Diario</a></li>
        <li><a href="index.html">Index</a></li>
    </ul>

    <div id="test1" class="col s12"></div>
    <div id="inventario" class="fade">
        <img id="cuerpo" src="Body.png" alt="Cuerpo" usemap="#bodymap">
        <map name="bodymap" id="bodymap">
            <!-- <area shape="circle" coords="243,59,50" alt="Cabeza" onclick="console.log('Hostia en la bocha')"> -->
            <area shape="circle" coords="243,130,30" alt="cuello" onclick="console.log('Hostia en cuello')">
            <area shape="circle" coords="242,60,40" alt="cara" title="cara" onclick="console.log('Hostia en cara')">
            <area shape="circle" coords="243,19,20" alt="craneo" title="craneo"
                onclick="console.log('Hostia en craneo');">
            <area shape="circle" coords="243,59,50" alt="" onclick="console.log('Hostia en ')">
            <!-- <area shape="circle" coords="243,59,314,248" alt="" onclick="console.log('Hostia en pecho')"> -->
            <area shape="rect" coords="170,158,314,248" alt="pecho" onclick="console.log('Hostia en pecho')">
            <area shape="rect" coords="94,320,159,410" alt="antebrazo D" onclick="console.log('Hostia en antebrazo D')">
        </map>

    </div>

    <div id="test2" class="col s12">
        Fecha<input type="date" id="fecha" value="0777-09-13">
    </div>
    <div id="test4" class="col s12">Test 4</div>


    <ul id="tabs-swipe-demo" class="tabs">
        <li class="tab col s3"><a href="#test-swipe-1">Habilidades</a></li>
        <li class="tab col s3"><a class="active" href="#test-swipe-2">Swipe 2</a></li>
        <li class="tab col s3"><a href="#test-swipe-3">Swipe 3</a></li>
    </ul>
    <div id="test-swipe-1" class="fade">
        <h2>Habilidades</h2>
        <input type="datetime-local" id="meeting-time" name="meeting-time" value="0778-06-12T19:30"
            min="0777-06-07T00:00" max="0779-06-14T00:00">
        <div class="fixed-action-btn">
            <a class="btn-floating btn-large black">
                <i class="large material-icons">mode_edit</i>
            </a>
            <ul>
                <li><a class="btn-floating red" aria-details="entrenar"><i class="material-icons">fitness_center</i></a>
                </li>
                <li><a class="btn-floating green"><i class="material-icons">mode_edit</i></a></li>
                <li><a class="btn-floating blue"><i class="material-icons">arrow_upward</i></a></li>
            </ul>
        </div>
    </div>
    <div id="test-swipe-2" class="col s12 red">
        Test 2
    </div>
    <div id="test-swipe-3" class="col s12 green">Test 3</div>

    <h2>Medici Text</h2>
    <h5>Friedolin</h5>



    <!-- Modal Trigger -->
    <a class="waves-effect waves-light btn modal-trigger" href="#modal1">Modal</a>

    <!-- Modal Structure -->
    <div id="modal1" class="modal">
        <div class="modal-content">
            <h4>Modal Header</h4>
            <p>A bunch of text</p>
        </div>
        <div class="modal-footer">
            <a href="#!" class="modal-close waves-effect waves-green btn-flat">Agree</a>
        </div>
    </div>


    <div class="fixed-action-btn">
        <a class="btn-floating btn-large red">
            <i class="large material-icons">mode_edit</i>
        </a>
        <ul>
            <li><a class="btn-floating red"><i class="material-icons">insert_chart</i></a></li>
            <li><a class="btn-floating yellow darken-1"><i class="material-icons">format_quote</i></a></li>
            <li><a class="btn-floating green"><i class="material-icons">publish</i></a></li>
            <li><a class="btn-floating blue"><i class="material-icons">attach_file</i></a></li>
        </ul>
    </div>

    <!-- <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.4.0/jquery.min.js"></script> -->
    <script src="js/jquery-3.5.1.min.js"></script>
    <!-- Compiled and minified JavaScript -->
    <!-- <script src="https://cdnjs.cloudflare.com/ajax/libs/materialize/1.0.0/js/materialize.min.js"></script> -->
    <script src="js/materialize.min.js"></script>

    <script>
        $(document).ready(function () {
            $('.sidenav').sidenav();
            $('.fixed-action-btn').floatingActionButton();
            $('.tabs').tabs();
            $('#tabs-swipe-demo').tabs({ 'swipeable': true });
            $('.modal').modal();

            M.toast({ html: 'Buenos días' })
        });

        /**
        * Modifica una fecha.
        * 
        * @param interval  One of: año, mes, dia, segundo,...
        * @param units  Numero de unidades a añadir o restar, si negativas.
        */
        Date.prototype.mod = function (interval, units) {
            var ret = new Date(this.valueOf()); //don't change original date

            switch (interval.toLowerCase()) {
                case 'año': ret.setFullYear(ret.getFullYear() + units); break;
                case 'mes': ret.setMonth(ret.getMonth() + units); break;
                case 'semana': ret.setDate(ret.getDate() + 7 * units); break;
                case 'dia': ret.setDate(ret.getDate() + units); break;
                case 'hora': ret.setTime(ret.getTime() + units * 3600000); break;
                case 'minuto': ret.setTime(ret.getTime() + units * 60000); break;
                case 'segundo': ret.setTime(ret.getTime() + units * 1000); break;
                default: ret = undefined; break;//en default undefined o pasar la original?
            }
            return ret;
        }

        Date.prototype.fecha = function (interval, units) {
            return this.toISOString().substring(0, 10)
        }

        var isMobile = /iPhone|iPad|iPod|Android/i.test(navigator.userAgent);
        //para compensar el cambio de juliano a gregoriano que ahcen en mobile
        if (isMobile) {
            $(`#fecha`).change(function () {
                // console.log(` valor: ${event.target.value}`);
                //this.value='0777-07-07'
                var d = new Date(event.target.value)
                //d.setDate(d.getDate()-4)
                d = d.mod('dia', -4)
                console.log(d.fecha())
                this.value = d.fecha()
                //TODO: tal vez actualizar
            });
        }

    </script>


</body>

</html>