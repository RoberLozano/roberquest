<!DOCTYPE html>
<html>

<head>
  <meta charset='utf-8'>
  <meta http-equiv='X-UA-Compatible' content='IE=edge'>

  <title>Pruebas de RoberQuest</title>
  <meta name='viewport' content='width=device-width, initial-scale=1'>
  <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css">
  <link rel="stylesheet"
    href="https://cdnjs.cloudflare.com/ajax/libs/bootstrap-select/1.13.9/css/bootstrap-select.css" />
  <link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.7.0/css/all.css"
    integrity="sha384-lZN37f5QGtY3VHgisS14W3ExzMWZxybE1SJSEsQp9S+oqd12jhcu+A56Ebc1zFSJ" crossorigin="anonymous">
  <link rel="stylesheet" href="bubbler.css">
  <!-- ESTILOS PROPIOS -->
  <style type="text/css">
    @font-face {
      font-family: "Friedolin";
      src: url("fonts/Friedolin.ttf");
    }

    @font-face {
      font-family: "MediciText";
      src: url("fonts/MediciText.otf");
    }

    @font-face {
      font-family: "Old Europe";
      src: url("fonts/Old Europe.ttf");
    }

    h6 {
      font-family: Friedolin;
      font-size: 200%;
    }

    h5 {
      font-family: Friedolin;
      font-size: 300%;
    }

    h2 {
      font-family: MediciText;
    }

    .number-input {
      width: 5em;
    }

    .dado {
      width: 3em;
    }

    .dados {
      width: 4em;
    }

    .gold {
      background: radial-gradient(ellipse farthest-corner at right bottom, #FEDB37 0%, #FDB931 8%, #9f7928 30%, #8A6E2F 40%, transparent 80%),
        radial-gradient(ellipse farthest-corner at left top, #FFFFFF 0%, #FFFFAC 8%, #D1B464 25%, #5d4a1f 62.5%, #5d4a1f 100%);
    }

    .selec {
      background: linear-gradient(315deg, #b8d0e0 0%, #a6afb9 54%, #b8d0e0 80%);
    }

    .metal {
      background: linear-gradient(180deg, hsl(0, 0%, 78%) 0%,
          hsl(0, 0%, 90%) 47%,
          hsl(0, 0%, 78%) 53%,
          hsl(0, 0%, 70%)100%);
    }
  </style>



  <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.4.1/jquery.min.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.7/umd/popper.min.js"></script>
  <script src="https://maxcdn.bootstrapcdn.com/bootstrap/4.3.1/js/bootstrap.min.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/bootstrap-select/1.13.9/js/bootstrap-select.min.js"></script>
  <script src="https://www.gstatic.com/firebasejs/4.7.0/firebase.js"></script>
  <script src="js/hammer.min.js"></script>
  <script src="js/bubbler.js"></script>


  <script src='js/D.js'></script>
  <script src='js/habilidades.js'></script>
  <script src='js/inventario.js'></script>
  <script src='js/localizaciones.js'></script>
  <script src='js/coor.js'></script>

  <script src='js/rol.js'></script>
</head>

<body>

  <div class="container">
    <div class="pos-f-t">
      <div class="collapse" id="navbarToggleExternalContent">
        <div class="bg-dark p-4">
          <ul class="nav nav-tabs">
            <li  class="col-sm h3"><a data-toggle="tab" style="color:white; font-family: Friedolin" href="#home">
                <span id="btPersonaje">Personaje</span> </a></li>
            <li class="col-sm h3"><a data-toggle="tab" style="color:white; font-family: Friedolin" href="#habilidades">
                Habilidades </a></li>
            <li class="col-sm h3"><a data-toggle="tab" style="color:white; font-family: Friedolin" href="#inventario">
                Inventario </a></li>
            <li class="col-sm h3"><a data-toggle="tab" style="color:white; font-family: Friedolin" href="#charts">
                Charts </a></li>
          </ul>
        </div>
      </div>
      <nav class="navbar navbar-dark bg-dark">
        <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarToggleExternalContent"
          aria-controls="navbarToggleExternalContent" aria-expanded="false" aria-label="Toggle navigation">
          <span class="navbar-toggler-icon"></span>
        </button>
        <input type="text" list="listaPJ" class="text-light bg-dark h3 " style="font-family: Old Europe" value="Rosssel"
          id="nombre">
        <datalist id="listaPJ">
          <option value="Personaje">
          <option value="Wolf">
          <option value="Rosssel">
          <option value="Blanc">
        </datalist>
        <button class="btn btn-danger" onclick="cargarPersonaje(true)">Cargar</button>
      </nav>
    </div>


    <!-- Modal  atacar-->
    <div class="modal fade modal-xl" id="modalAtacar" tabindex="-1" role="dialog" aria-labelledby="modalAtacarTitle"
      aria-hidden="true">
      <div class="modal-dialog modal-xl" role="document">
        <div class="modal-content">
          <div class="modal-header">
            <h5 class="modal-title" id="editModalTitle">Atacar</h5>
            <button type="button" class="close" data-dismiss="modal" aria-label="Close">
              <span aria-hidden="true">&times;</span>
            </button>
          </div>
          <div class="modal-body" id="atacar">
            <div class="card mb-3" >
              <div class="row no-gutters">
                <div class="col-md-6">
                  <div class="card-body">
                    <h5 class="card-title">Personaje</h5>
                    <p class="card-text">This is a wider card with supporting text below as a natural lead-in to additional content. This content is a little bit longer.</p>
                    <p class="card-text"><small class="text-muted">Last updated 3 mins ago</small></p>
                  </div>
                </div>
                <div class="col-md-6">
                  <div class="card-body">
                    <h5 class="card-title">Enemigo</h5>
                    <p class="card-text">This is a wider card with supporting text below as a natural lead-in to additional content. This content is a little bit longer.</p>
                    <p class="card-text"><small class="text-muted">Last updated 3 mins ago</small></p>
                  </div>
                </div>
              </div>
            </div>
          </div>
          <div class="modal-footer">
            <button type="button" class="btn btn-secondary" data-dismiss="modal">Cerrar</button>
          </div>
        </div>
      </div>
    </div>

    <!-- Modal -->
    <div class="modal fade" id="editModal" tabindex="-1" role="dialog" aria-labelledby="editModalTitle"
      aria-hidden="true">
      <div class="modal-dialog" role="document">
        <div class="modal-content">
          <div class="modal-header">
            <h5 class="modal-title" id="editModalTitle">Editar</h5>
            <button type="button" class="close" data-dismiss="modal" aria-label="Close">
              <span aria-hidden="true">&times;</span>
            </button>
          </div>
          <div class="modal-body" id="editor">
            ...
          </div>
          <div class="modal-footer">
            <button type="button" class="btn btn-secondary" data-dismiss="modal">Cerrar</button>
            <button type="button" class="btn btn-danger" onclick="quitarObjeto()" data-dismiss="modal">Eliminar</button>
            <button type="button" class="btn btn-primary" onclick="nuevoObjeto()">Nuevo</button>
          </div>
        </div>
      </div>
    </div>

    <!-- Modal Entrenar -->
    <div class="modal fade" id="modalEntrenar" tabindex="-1" role="dialog" aria-labelledby="modalEntrenarTitle"
      aria-hidden="true">
      <div class="modal-dialog" role="document">
        <div class="modal-content">
          <div class="modal-header">
            <h3 class="modal-title" id="modalEntrenarTitle">Entrenar</h3>
            <button type="button" class="close" data-dismiss="modal" aria-label="Close">
              <span aria-hidden="true">&times;</span>
            </button>
          </div>
          <div class="modal-body" id="editor">
            <form>
              <div class="input-group mb-2">
                <div class="input-group-prepend">
                  <!-- <label class="form-check-label" for="chMaestro">
                    <input type="checkbox" id="chMaestro" name="maestro" checked>Maestro
                  </label> <br> -->
                  <span id="lbEntrenador" class="input-group-text">Entrenar%</span>
                  <input id="iEntrenador" type="number" value=100 class="form-control number-input">

                  <span class="input-group-text">Caras</span>
                  <input id="iDadosEntrenador" type="number" value=3 class="form-control dado">
                  <span class="input-group-text"><i class="fas fa-dice-six"></i></span>
                  <input id="iTiradaEntrenador" type="number" class="form-control dados">
                  <button id="btDuraciónOK" class="btn btn-primary" type="button">OK</button>
                </div>

                <!-- <div class="input-group-prepend">
                  <span id="lbIntensidad" class="input-group-text">Intensidad: 130%</span>
                  <input id="iPMIntensidad" type="number" value="0" class="form-control number-input">
                  <span class="input-group-text"><i class="fas fa-dice-six"></i></span>
                  <input id="iDadosIntensidad" type="number" class="form-control number-input">
                  <button id="btIntensidadOK" class="btn btn-primary" type="button">OK</button>
                </div> -->
                <div class="number-input"></div>
                <div class="input-group-prepend">
                  <span id="lbEntrenar" class="input-group-text">Habilidad</span>
                  <input id="iHabilidad" type="number" class="form-control number-input">
                  <span class="input-group-text">Horas:</span>
                  <input id="iHoras" type="number" class="form-control number-input">
                  <span class="input-group-text"><i class="fas fa-dice-six"></i></span>
                  <input id="iTiradaSubir" type="number" class="form-control dados" placeholder=99>
                </div>
                <span class="input-group-text">Total:</span>
                <input id="iTotal" type="number" class="form-control number-input">
              </div>
            </form>
            <div>
              PM disponibles: <span id="pmTotales" class="input-group-text"></span>
            </div>
          </div>
          <div class="modal-footer">
            <button type="button" class="btn btn-secondary" data-dismiss="modal">Cancelar</button>
            <button id="bManual" type="button" class="btn btn-success">Manual</button>
            <button id="bEntrenar" type="button" class="btn btn-primary">Entrenar</button>
          </div>
        </div>
      </div>
    </div>


    <!-- NEW Modal Hechizo -->
    <div class="modal fade" id="modalHechizo" tabindex="-1" role="dialog" aria-labelledby="modalHechizoTitle"
      aria-hidden="true">
      <div class="modal-dialog" role="document">
        <div class="modal-content">
          <div class="modal-header">
            <h6 class="modal-title" id="modalHechizoTitle">Hechizo</h6>
            <button type="button" class="close" data-dismiss="modal" aria-label="Close">
              <span aria-hidden="true">&times;</span>
            </button>
          </div>
          <div class="modal-body w-100" id="editor">
            <select class="selectpicker" id="hm" multiple data-live-search="true" data-width="fit" multiple
              title="Modificadores de Hechizo">
            </select>
            <div id="salida"></div>
          </div>
          <div class="modal-footer">
            <button type="button" class="btn btn-secondary" data-dismiss="modal">Cancelar</button>
            <button id="bLanzarHechizo" type="button" class="btn btn-primary" data-dismiss="modal">Lanzar</button>
            <!-- <button type="button" class="btn btn-primary" onclick="">Nuevo</button> -->
          </div>
        </div>
      </div>
    </div>

    <!-- Modal Hechizo -->
    <!-- <div class="modal fade" id="modalHechizo" tabindex="-1" role="dialog" aria-labelledby="modalHechizoTitle"
      aria-hidden="true">
      <div class="modal-dialog" role="document">
        <div class="modal-content">
          <div class="modal-header">
            <h3 class="modal-title" id="modalHechizoTitle">Bola de fuego <span class="badge badge-pill badge-dark"> 7
              </span></h3>
            <button type="button" class="close" data-dismiss="modal" aria-label="Close">
              <span aria-hidden="true">&times;</span>
            </button>
          </div>
          <div class="modal-body" id="editor">
            <form>
              <div class="input-group mb-3">
                <div class="input-group-prepend">
                  <span id="lbDuración" class="input-group-text">Duración: 130%</span>
                  <input id="iPMDuración" type="number" value="0" class="form-control number-input">
                  <span class="input-group-text"><i class="fas fa-dice-six"></i></span>
                  <input id="iDadosDuración" type="number" class="form-control number-input">
                  <button id="btDuraciónOK" class="btn btn-primary" type="button">OK</button>
                </div>

                <div class="input-group-prepend">
                  <span id="lbIntensidad" class="input-group-text">Intensidad: 130%</span>
                  <input id="iPMIntensidad" type="number" value="0" class="form-control number-input">
                  <span class="input-group-text"><i class="fas fa-dice-six"></i></span>
                  <input id="iDadosIntensidad" type="number" class="form-control number-input">
                  <button id="btIntensidadOK" class="btn btn-primary" type="button">OK</button>
                </div>
                <div class="number-input"></div>
                <div class="input-group-prepend">
                  <span id="lbHechizo" class="input-group-text">Hechizo: 130%</span>
                  <span class="input-group-text"><i class="fas fa-dice-six"></i></span>
                  <input id="iDadosHechizo" type="number" class="form-control number-input">
                  <span class="input-group-text">PM:</span>
                  <input id="iGastados" type="number" class="form-control number-input">
                </div>
              </div>
            </form>
            <div>
              PM disponibles: <span id="pmTotales" class="input-group-text"></span>
            </div>
          </div>
          <div class="modal-footer">
            <button type="button" class="btn btn-secondary" data-dismiss="modal">Cancelar</button>
            <button id="bLanzar" type="button" class="btn btn-primary" data-dismiss="modal">Lanzar</button>
          </div>
        </div>
      </div>
    </div> -->

    <!-- #region tabs -->
    <div class="tab-content">
      <div id="home" class="tab-pane fade in active">
        <!-- <input class="form-control" type="text" value="Personaje" id="nombre">
        <button onclick="cargarPersonaje()"> Cargar personaje</button> -->
        <table class="table table-hover">
          <thead>
            <!-- <th>Característica</th>
            <th>Valor</th>
            <th>Bonificación</th>
            <th>Valor</th> -->
          </thead>
          <tbody id="statsTable"></tbody>
        </table>
        <form>
          <div class="input-group mb-3">
            <div class="input-group-prepend">
              <span class="input-group-text">PG</span>
              <input id="iPG" type="number" class="form-control number-input">
              <button id="btPG" class="btn btn-light" onclick="pMax(PG)" type="button">PGMAX</button>
            </div>
            <div class="number-input"></div>
            <div class="input-group-prepend">
              <span class="input-group-text">PF</span>
              <input id="iPF" type="number" class="form-control number-input">
              <button id="btPF" class="btn btn-light" onclick="pMax(PF)" type="button">PFMAX</button>
            </div>
            <div class="number-input"></div>
            <div class="input-group-prepend">
              <span class="input-group-text">PM</span>
              <input id="iPM" type="number" class="form-control number-input">
              <button id="btPM" class="btn btn-light" onclick="pMax(PM)" type="button">PMMAX</button>
            </div>
          </div>
        </form>

      </div>
      <div id="habilidades" class="tab-pane fade">

        <div class="input-group ">
          <div class="input-group-prepend">
            <span class="input-group-text"><i class="fas fa-search"></i></span>
          </div>
          <input class="form-control" id="buscar" type="text" placeholder="Buscar..">
        </div>
        <select class="selectpicker" id="columnas" multiple data-live-search="true" data-width="fit" multiple
          title="Seleccione columnas a mostrar">
          <option selected>nombre</option>
          <option>xp</option>
          <option>tipo</option>
          <option selected>valor</option>
        </select>
        <table class="table table-hover">
          <thead id="header">
            <!-- <th>Habilidad</th>
            <th>Tipo</th>
            <th>Valor</th> -->
          </thead>
          <tbody id="tbHab"></tbody>
        </table>
      </div>
      <div id="inventario" class="tab-pane fade">
        <button type="button" class="btn btn-primary" onclick="atras()"> <i class="fas fa-arrow-left"></i>
          Atras</button>

        <div class="input-group ">
          <div class="input-group-prepend">
            <span class="input-group-text"><i class="fas fa-search"></i></span>
          </div>
          <input class="form-control" id="buscarObjeto" type="text" placeholder="Buscar..">
        </div>
        <select class="selectpicker" id="colInventario" multiple data-live-search="true" data-width="fit" multiple
          title="Seleccione columnas a mostrar">
          <option selected>nombre</option>
          <option selected>peso</option>
          <option>ctd</option>
          <option>valor</option>
          <option>daño</option>
          <option>pesa</option>
        </select>

        <div class="btn-group">
          <div class="dropdown">
            <button type="button" class="btn btn-dark dropdown-toggle" data-toggle="dropdown">
              Añadir
              <div class="dropdown-menu" onmouseover="this.style.color='red';" onmouseout="this.style.color='white';"
                style=" color: #fff;
              background-color: #000;
              border-color: #fff;">
                <a class="dropdown-item" onclick="editar(new Objeto()) ;$('#editModal').modal();">Objeto</a>
                <a class="dropdown-item" onclick="editar(new Contenedor()); $('#editModal').modal();"> <i
                    class="fas fa-box-open"></i> Contenedor</a>
                <a class="dropdown-item" onclick="editar(new Pociones()); $('#editModal').modal();"> <i
                    class="fas fa-flask"></i> Pociones</a>
                <a class="dropdown-item" onclick="editar(new Gema()); $('#editModal').modal();"><i
                    class="fas fa-gem"></i> Gema</a>
                <a class="dropdown-item" onclick="portapapeles();"><i
                    class="fas fa-edit"></i> Portapapeles</a>
              </div>
          </div>
        </div>

        <!-- <button type="button" class="btn btn-danger" onclick="editar(new Objeto()) ;$('#editModal').modal();">Nuevo Objeto</button>
        <button type="button" class="btn btn-primary" onclick="editar(new Contenedor()); $('#editModal').modal();"> <i
            class="fas fa-box-open"></i>Nuevo Contenedor</button> -->
        <button type="button" class="btn btn-primary" onclick="copiar()"> <i class="fas fa-copy"></i> </button>
        <button type="button" class="btn btn-dark" onclick="cortar()"> <i class="fas fa-cut"></i></button>
        <button type="button" class="btn btn-success" onclick="pegar()"><i class="fas fa-paste"></i></button>
        <button type="button" class="btn btn-danger" onclick="eliminar()"><i class="fas fa-trash"></i></button>


        <table class="table table-hover">
          <thead id="hdInv">
            <!-- <th>Habilidad</th>
            <th>Tipo</th>
            <th>Valor</th> -->
          </thead>
          <tbody id="tbInv"></tbody>
        </table>
      </div>
      <div id="charts" class="tab-pane fade">
        <div>
          <!-- <canvas id="barChart"></canvas>
          <canvas id="radarChart"></canvas> -->
          <!-- <button class="btn btn-danger" onclick="lanzarHechizo()">Hechizo</button> -->
          <button class="btn btn-danger" onclick="atacarModal()">Atacar</button>


        </div>
        <div>

          <button class="btn btn-danger" onclick="entrenar()">Entrenar</button>
          <my-counter id="idcounter" valor=34></my-counter>
          <my-counter id="idcounter" valor=34></my-counter>
          <my-counter id="idcounter" valor=34></my-counter>

          <div>
            <input-dado  id="idPrueba" habilidad="50" >
            
            
          </div>
          <input-dado  habilidad="50" ></input-dado>
          <input-dado  id="idPrueba2" habilidad="67" ></input-dado>

        </div>



      </div>
    </div>
    <!-- #endregion -->

    <!-- #region toast -->
    <div class="toast" style="position: absolute; top: 0; right: 0;">
      <!-- <div class="toast-header" style="background-color:black; color:white" >
    Toast Header
  </div> -->
      <div class="toast-body" style="background-color:black; color:white">
        Some text inside the toast body
      </div>
    </div>
    <!-- #endregion -->


    <p>Elige la fecha del Mundo</p>
    <input class="form-control" type="datetime-local" value="0177-07-07T00:00:01.0" id="fecha">
    <p id="texto"></p>

    <button onclick="act()"> Cambiar fecha y hora</button>
    <button onclick="saveStats()"> Guardar</button>


    <!-- script de Bubble -->
    <script>
      // BUBBLE
      var options =
        [
          {
            icon: '<i class="fas fa-copy"></i>',
            label: 'Copiar',
            display: {
              color: 'white',
              background: 'darkcyan'
            },
            callback: function () {
              copiar();
            }
          },
          {
            icon: '<i class="fa fa-cut" aria-hidden="true"></i>',

            label: 'Cortar',
            display: {
              color: 'white',
              background: 'orangered'
            },
            callback: function () {
              cortar();
            }
          },
          {
            icon: '<i class="fa fa-paste" aria-hidden="true"></i>',
            label: 'Pegar',
            display: {
              color: 'white',
              background: 'green'
            },
            callback: function () {
              pegar();
            }
          },
          {
            icon: '<i class="fa fa-trash" aria-hidden="true"></i>',
            label: 'Borrar',
            display: {
              color: 'white',
              background: 'red'
            },
            callback: function () {
              eliminar();
            }
          },

        ];

      var context = new Bubbler(options);
    </script>
    <script src="js/script.js"></script>


</body>

</html>